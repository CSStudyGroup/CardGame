<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <th:block th:replace="fragment/head::headFragment"></th:block>
    <link rel="stylesheet" th:href="@{/css/categorymanage.css(ver=${#calendars.createNow()})}">
    <script defer th:src="@{/js/categorymanage.js(ver=${#calendars.createNow()})}"></script>
</head>
<body>
    <th:block th:replace="fragment/navigator::navigator"></th:block>
    <p id="title">Category</p>
    <div class="container-item">
        <div class="containerBody" th:each="categoryDto : ${categoryDtoList}">
            <a class="categoryName" th:text="|${categoryDto.cname} (${categoryDto.cnt})|"></a>
            <input type="hidden" class="newCategoryName">
            <img class="delete clickable" height="50px" width="auto"
                 th:attr="onclick=|categoryDelete('${categoryDto.cname}')|"
                 th:src="@{/img/delete_image.png}">
            <img class="update clickable" height="50px" width="auto"
                 th:attr="onclick=|categoryUpdate('${categoryDto.cname}')|"
                 th:src="@{/img/edit_image.png}">
        </div>
        <div class="containerLast clickable" onclick="categoryInsert()">
            <a id="plusMark">+</a>
            <input type="hidden" class="newCategoryName" id="newCategoryName">
            <button class="clickable" type="button" id="createCategory" onclick="createCategory()">추가</button>
        </div>
    </div>
    <div class="save">
        <button class="clickable" type="button" id="save">변경내용 저장</button>
    </div>
    <dialog class="dialog">
        <h2 class="change-caution">변경사항을 저장하시겠습니까?</h2><br><br>
        <button class="change clickable" type="reset">저장</button>
        <button class="cancel clickable" type="reset">취소</button>
    </dialog>
    <script th:inline="javascript">
        var dto = [[${categoryDtoList}]];
    </script>
</body>
</html>